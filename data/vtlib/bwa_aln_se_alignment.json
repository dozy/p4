{
"version":"1.0",
"description":"run bwa aln to to align input bam (single-end) to supplied reference genome",
"subgraph_io":{
	"ports":{
		"inputs":{
			"_stdin_":"tee2",
			"reference":["bwa_aln:__REFERENCE_GENOME_FASTA_IN__", "bwa_samse:__REFERENCE_GENOME_FASTA_IN__"]
		},
		"outputs":{
			"_stdout_":"samtobam"
		}
	}
},
"subst_params":[
        {
                "id": "basic_pipeline_params",
                "type":"SPFILE",
		"name":{"subst":"basic_pipeline_params_file"},
                "required": "no",
                "comment":"this will expand to a set of subst_param elements"
        }
],
"nodes":[
	{
		"id":"tee2",
		"type":"EXEC",
		"cmd":[ "teepot", "-v", "-w", "300", "-m", "1G", "__ALN_OUT__", "__SAMPE_OUT__" ]
	},
	{
		"id":"bwa_aln",
		"type":"EXEC",
		"cmd":[ {"subst":"bwa_executable"}, "aln", "-t", {"subst":"aligner_numthreads"}, "-b", "__REFERENCE_GENOME_FASTA_IN__", "__BAM_IN__" ]
	},
	{
		"id":"simple_cat",
		"type":"EXEC",
		"use_STDIN":true,
		"use_STDOUT":true,
		"cmd":"cat"
	},
        {
                "id":"bwa_samse",
                "type":"EXEC",
		"cmd":[ {"subst":"bwa_executable"}, "samse", "__REFERENCE_GENOME_FASTA_IN__", "__SAI_IN__", "__BAM_IN__" ]
        },
        {
                "id":"samtobam",
                "type":"EXEC",
                "cmd":"scramble -I sam -O bam"
        }
],
"edges":[
	{ "id":"bwa_aln_bam", "from":"tee2:__ALN_OUT__", "to":"bwa_aln:__BAM_IN__" },
	{ "id":"tee_to_cat", "from":"tee2:__SAMPE_OUT__", "to":"simple_cat" },
	{ "id":"cat1_to_sampe", "from":"simple_cat", "to":"bwa_samse:__BAM_IN__" },
	{ "id":"aln_sai_to_samse", "from":"bwa_aln", "to":"bwa_samse:__SAI_IN__" },
	{ "id":"bwa_samse_to_scramble", "from":"bwa_samse", "to":"samtobam" }
]
}
